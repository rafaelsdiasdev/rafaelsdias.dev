{"ast":null,"code":"'use strict';\n\nfunction _interopDefault(ex) {\n  return ex && typeof ex === 'object' && 'default' in ex ? ex['default'] : ex;\n}\n\nvar React = _interopDefault(require('react'));\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nfunction styleInject(css, ref) {\n  if (ref === void 0) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') {\n    return;\n  }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar css = 'body,\\nhtml {\\n  height: 100%;\\n}\\n\\nbody {\\n  margin: 0;\\n  padding: 0;\\n  overflow: hidden;\\n}\\n\\n.slider__container {\\n  position: fixed;\\n  display: block;\\n  height: 100%;\\n  width: 100%;\\n  margin: 0;\\n  padding: 0;\\n  -webkit-transform: translate3d(0, 0, 0);\\n  transform: translate3d(0, 0, 0);\\n  -webkit-transition: -webkit-transform 500ms ease-in-out;\\n  transition: -webkit-transform 500ms ease-in-out;\\n  -o-transition: transform 500ms ease-in-out;\\n  transition: transform 500ms ease-in-out;\\n}\\n\\n.slider__page {\\n  position: relative;\\n  width: 100%;\\n  height: 100%;\\n}\\n\\n.slider__indicators {\\n  position: fixed;\\n  left: 18px;\\n  top: 50%;\\n  z-index: 2;\\n  margin: 0;\\n  padding: 0;\\n  -webkit-transform: translateY(-50%);\\n  -ms-transform: translateY(-50%);\\n  transform: translateY(-50%);\\n}\\n\\n.slider__indicator {\\n  display: block;\\n  width: 10px;\\n  height: 10px;\\n  margin: 10px 0;\\n  border-radius: 100px;\\n  background-color: #fff;\\n  cursor: default;\\n}\\n\\n.slider__indicator--active {\\n  opacity: 0.3;\\n}\\n\\nsection > div {\\n  position: absolute;\\n  top: 50%;\\n  left: 50%;\\n  transform: translate(-50%, -50%);\\n  font-size: 7vw;\\n  font-family: sans-serif;\\n  text-transform: uppercase;\\n  color: #fff;\\n}\\n';\nstyleInject(css);\nvar keyUp = {\n  38: 1,\n  33: 1\n};\nvar keyDown = {\n  40: 1,\n  34: 1\n};\n\nvar SliderPage = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(SliderPage, _React$Component);\n\n  function SliderPage(_props) {\n    var _this;\n\n    _this = _React$Component.call(this, _props) || this;\n\n    _this.onTransition = function () {\n      if (_this.isChanging) {\n        setTimeout(function () {\n          _this.isChanging = false;\n          window.location.hash = document.querySelector('[data-slider-index=\"' + _this.state.currentSlide + '\"]').id;\n        }, 400);\n      }\n    };\n\n    _this.detectChangeEnd = function () {\n      var transition;\n      var e = document.createElement('foobar');\n      var transitions = {\n        transition: 'transitionend',\n        OTransition: 'oTransitionEnd',\n        MozTransition: 'transitionend',\n        WebkitTransition: 'webkitTransitionEnd'\n      };\n\n      for (transition in transitions) {\n        if (e.style[transition] !== undefined) {\n          return transitions[transition];\n        }\n      }\n\n      return true;\n    };\n\n    _this.onKeyDown = function (e) {\n      if (keyUp[e.keyCode]) {\n        _this.changeSlide(-1);\n      } else if (keyDown[e.keyCode]) {\n        _this.changeSlide(1);\n      }\n    };\n\n    _this.onMouseWheel = function (e) {\n      var direction = e.wheelDelta || e.deltaY;\n\n      if (direction > 0) {\n        _this.changeSlide(-1);\n      } else {\n        _this.changeSlide(1);\n      }\n    };\n\n    _this.onTouchStart = function (e) {\n      e.preventDefault();\n\n      if (e.type === 'touchstart' || e.type === 'touchmove' || e.type === 'touchend' || e.type === 'touchcancel') {\n        var touch = e.touches[0] || e.changedTouches[0];\n        _this.touchStartPos = touch.pageY;\n      }\n    };\n\n    _this.onTouchEnd = function (e) {\n      e.preventDefault();\n\n      if (e.type === 'touchstart' || e.type === 'touchmove' || e.type === 'touchend' || e.type === 'touchcancel') {\n        var touch = e.touches[0] || e.changedTouches[0];\n        _this.touchStopPos = touch.pageY;\n      }\n\n      if (_this.touchStartPos + _this.touchMinLength < _this.touchStopPos) {\n        _this.changeSlide(-1);\n      } else if (_this.touchStartPos > _this.touchStopPos + _this.touchMinLength) {\n        _this.changeSlide(1);\n      }\n    };\n\n    _this.modifyChildren = function (child, index) {\n      var className = (child.props.className ? child.props.className + ' ' : '') + 'slider__page';\n      var props = {\n        className: className,\n        'data-slider-index': index + 1\n      };\n      return React.cloneElement(child, props);\n    };\n\n    _this.changeSlide = function (direction) {\n      // already doing it or last/first page, staph plz\n      if (_this.isChanging || direction === 1 && _this.state.currentSlide === _this.props.children.length || direction === -1 && _this.state.currentSlide === 1) {\n        return;\n      } // change page\n\n\n      _this.setState({\n        currentSlide: _this.state.currentSlide + direction\n      });\n\n      _this.isChanging = true;\n    };\n\n    _this.state = {\n      currentSlide: 1\n    };\n    _this.sliderRef = React.createRef();\n    _this.touchStartPos = 0;\n    _this.touchStopPos = 0;\n    _this.touchMinLength = 50;\n    return _this;\n  }\n\n  var _proto = SliderPage.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    this.detectChangeEnd() && this.sliderRef.current.addEventListener(this.detectChangeEnd(), this.onTransition);\n    window.addEventListener('keydown', this.onKeyDown);\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.sliderRef.current.removeEventListener(this.detectChangeEnd(), this.onTransition);\n    window.removeEventListener('keydown', this.onKeyDown);\n  };\n\n  _proto.render = function render() {\n    var _this2 = this;\n\n    var sliderIndicators = React.createElement('div', {\n      className: 'slider__indicators'\n    }, this.props.children.map(function (_, index) {\n      return React.createElement('div', {\n        key: index,\n        className: 'slider__indicator' + (_this2.state.currentSlide === index + 1 ? ' slider__indicator--active' : ''),\n        'data-slider-target-index': index + 1\n      });\n    }));\n    return React.createElement(React.Fragment, null, React.createElement('div', {\n      ref: this.sliderRef,\n      className: 'slides slider__container',\n      style: {\n        transform: 'translate3d(0, ' + -(this.state.currentSlide - 1) * 100 + '%, 0)'\n      },\n      onTouchStart: this.onTouchStart,\n      onTouchEnd: this.onTouchEnd,\n      onWheel: this.onMouseWheel\n    }, React.Children.map(this.props.children, function (child, index) {\n      return _this2.modifyChildren(child, index);\n    })), sliderIndicators);\n  };\n\n  return SliderPage;\n}(React.Component);\n\nmodule.exports = SliderPage;","map":{"version":3,"sources":["/home/rafaeldias/projects/rafaelsdias.dev/src/components/PageSlider/index.js"],"names":["_interopDefault","ex","React","require","_inheritsLoose","subClass","superClass","prototype","Object","create","constructor","__proto__","styleInject","css","ref","insertAt","document","head","getElementsByTagName","style","createElement","type","firstChild","insertBefore","appendChild","styleSheet","cssText","createTextNode","keyUp","keyDown","SliderPage","_React$Component","_props","_this","call","onTransition","isChanging","setTimeout","window","location","hash","querySelector","state","currentSlide","id","detectChangeEnd","transition","e","transitions","OTransition","MozTransition","WebkitTransition","undefined","onKeyDown","keyCode","changeSlide","onMouseWheel","direction","wheelDelta","deltaY","onTouchStart","preventDefault","touch","touches","changedTouches","touchStartPos","pageY","onTouchEnd","touchStopPos","touchMinLength","modifyChildren","child","index","className","props","cloneElement","children","length","setState","sliderRef","createRef","_proto","componentDidMount","current","addEventListener","componentWillUnmount","removeEventListener","render","_this2","sliderIndicators","map","_","key","Fragment","transform","onWheel","Children","Component","module","exports"],"mappings":"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","sourcesContent":["'use strict';\n\nfunction _interopDefault(ex) {\n  return ex && typeof ex === 'object' && 'default' in ex ? ex['default'] : ex;\n}\n\nvar React = _interopDefault(require('react'));\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nfunction styleInject(css, ref) {\n  if (ref === void 0) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') {\n    return;\n  }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar css =\n  'body,\\nhtml {\\n  height: 100%;\\n}\\n\\nbody {\\n  margin: 0;\\n  padding: 0;\\n  overflow: hidden;\\n}\\n\\n.slider__container {\\n  position: fixed;\\n  display: block;\\n  height: 100%;\\n  width: 100%;\\n  margin: 0;\\n  padding: 0;\\n  -webkit-transform: translate3d(0, 0, 0);\\n  transform: translate3d(0, 0, 0);\\n  -webkit-transition: -webkit-transform 500ms ease-in-out;\\n  transition: -webkit-transform 500ms ease-in-out;\\n  -o-transition: transform 500ms ease-in-out;\\n  transition: transform 500ms ease-in-out;\\n}\\n\\n.slider__page {\\n  position: relative;\\n  width: 100%;\\n  height: 100%;\\n}\\n\\n.slider__indicators {\\n  position: fixed;\\n  left: 18px;\\n  top: 50%;\\n  z-index: 2;\\n  margin: 0;\\n  padding: 0;\\n  -webkit-transform: translateY(-50%);\\n  -ms-transform: translateY(-50%);\\n  transform: translateY(-50%);\\n}\\n\\n.slider__indicator {\\n  display: block;\\n  width: 10px;\\n  height: 10px;\\n  margin: 10px 0;\\n  border-radius: 100px;\\n  background-color: #fff;\\n  cursor: default;\\n}\\n\\n.slider__indicator--active {\\n  opacity: 0.3;\\n}\\n\\nsection > div {\\n  position: absolute;\\n  top: 50%;\\n  left: 50%;\\n  transform: translate(-50%, -50%);\\n  font-size: 7vw;\\n  font-family: sans-serif;\\n  text-transform: uppercase;\\n  color: #fff;\\n}\\n';\nstyleInject(css);\n\nvar keyUp = {\n  38: 1,\n  33: 1,\n};\nvar keyDown = {\n  40: 1,\n  34: 1,\n};\n\nvar SliderPage =\n  /*#__PURE__*/\n  (function (_React$Component) {\n    _inheritsLoose(SliderPage, _React$Component);\n\n    function SliderPage(_props) {\n      var _this;\n\n      _this = _React$Component.call(this, _props) || this;\n\n      _this.onTransition = function () {\n        if (_this.isChanging) {\n          setTimeout(function () {\n            _this.isChanging = false;\n            window.location.hash = document.querySelector(\n              '[data-slider-index=\"' + _this.state.currentSlide + '\"]',\n            ).id;\n          }, 400);\n        }\n      };\n\n      _this.detectChangeEnd = function () {\n        var transition;\n        var e = document.createElement('foobar');\n        var transitions = {\n          transition: 'transitionend',\n          OTransition: 'oTransitionEnd',\n          MozTransition: 'transitionend',\n          WebkitTransition: 'webkitTransitionEnd',\n        };\n\n        for (transition in transitions) {\n          if (e.style[transition] !== undefined) {\n            return transitions[transition];\n          }\n        }\n\n        return true;\n      };\n\n      _this.onKeyDown = function (e) {\n        if (keyUp[e.keyCode]) {\n          _this.changeSlide(-1);\n        } else if (keyDown[e.keyCode]) {\n          _this.changeSlide(1);\n        }\n      };\n\n      _this.onMouseWheel = function (e) {\n        var direction = e.wheelDelta || e.deltaY;\n\n        if (direction > 0) {\n          _this.changeSlide(-1);\n        } else {\n          _this.changeSlide(1);\n        }\n      };\n\n      _this.onTouchStart = function (e) {\n        e.preventDefault();\n\n        if (\n          e.type === 'touchstart' ||\n          e.type === 'touchmove' ||\n          e.type === 'touchend' ||\n          e.type === 'touchcancel'\n        ) {\n          var touch = e.touches[0] || e.changedTouches[0];\n          _this.touchStartPos = touch.pageY;\n        }\n      };\n\n      _this.onTouchEnd = function (e) {\n        e.preventDefault();\n\n        if (\n          e.type === 'touchstart' ||\n          e.type === 'touchmove' ||\n          e.type === 'touchend' ||\n          e.type === 'touchcancel'\n        ) {\n          var touch = e.touches[0] || e.changedTouches[0];\n          _this.touchStopPos = touch.pageY;\n        }\n\n        if (_this.touchStartPos + _this.touchMinLength < _this.touchStopPos) {\n          _this.changeSlide(-1);\n        } else if (\n          _this.touchStartPos >\n          _this.touchStopPos + _this.touchMinLength\n        ) {\n          _this.changeSlide(1);\n        }\n      };\n\n      _this.modifyChildren = function (child, index) {\n        var className =\n          (child.props.className ? child.props.className + ' ' : '') +\n          'slider__page';\n        var props = {\n          className: className,\n          'data-slider-index': index + 1,\n        };\n        return React.cloneElement(child, props);\n      };\n\n      _this.changeSlide = function (direction) {\n        // already doing it or last/first page, staph plz\n        if (\n          _this.isChanging ||\n          (direction === 1 &&\n            _this.state.currentSlide === _this.props.children.length) ||\n          (direction === -1 && _this.state.currentSlide === 1)\n        ) {\n          return;\n        } // change page\n\n        _this.setState({\n          currentSlide: _this.state.currentSlide + direction,\n        });\n\n        _this.isChanging = true;\n      };\n\n      _this.state = {\n        currentSlide: 1,\n      };\n      _this.sliderRef = React.createRef();\n      _this.touchStartPos = 0;\n      _this.touchStopPos = 0;\n      _this.touchMinLength = 50;\n      return _this;\n    }\n\n    var _proto = SliderPage.prototype;\n\n    _proto.componentDidMount = function componentDidMount() {\n      this.detectChangeEnd() &&\n        this.sliderRef.current.addEventListener(\n          this.detectChangeEnd(),\n          this.onTransition,\n        );\n      window.addEventListener('keydown', this.onKeyDown);\n    };\n\n    _proto.componentWillUnmount = function componentWillUnmount() {\n      this.sliderRef.current.removeEventListener(\n        this.detectChangeEnd(),\n        this.onTransition,\n      );\n      window.removeEventListener('keydown', this.onKeyDown);\n    };\n\n    _proto.render = function render() {\n      var _this2 = this;\n\n      var sliderIndicators = React.createElement(\n        'div',\n        {\n          className: 'slider__indicators',\n        },\n        this.props.children.map(function (_, index) {\n          return React.createElement('div', {\n            key: index,\n            className:\n              'slider__indicator' +\n              (_this2.state.currentSlide === index + 1\n                ? ' slider__indicator--active'\n                : ''),\n            'data-slider-target-index': index + 1,\n          });\n        }),\n      );\n      return React.createElement(\n        React.Fragment,\n        null,\n        React.createElement(\n          'div',\n          {\n            ref: this.sliderRef,\n            className: 'slides slider__container',\n            style: {\n              transform:\n                'translate3d(0, ' +\n                -(this.state.currentSlide - 1) * 100 +\n                '%, 0)',\n            },\n            onTouchStart: this.onTouchStart,\n            onTouchEnd: this.onTouchEnd,\n            onWheel: this.onMouseWheel,\n          },\n          React.Children.map(this.props.children, function (child, index) {\n            return _this2.modifyChildren(child, index);\n          }),\n        ),\n        sliderIndicators,\n      );\n    };\n\n    return SliderPage;\n  })(React.Component);\n\nmodule.exports = SliderPage;\n"]},"metadata":{},"sourceType":"module"}